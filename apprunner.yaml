version: 1.0
runtime: python3
build:
  commands:
    build:
      - apt-get update
      - apt-get install -y libglfw3 libglfw3-dev libgomp1
      - pip install --upgrade pip
      - pip install -r www/requirements.txt
      - pip install .
run:
  runtime-version: 3.11.0
  command: fastapi run www/main.py --port 8080
  network:
    port: 8080
  env:
    - name: ENVIRONMENT
      value: ${ENVIRONMENT}
