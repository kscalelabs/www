<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>New Window</title>
</head>

<body>
  <h1>Success!</h1>
  <p>You are now authenticated! Returning you to the previous page in <span id="countdown">3</span> seconds...</p>

  <script>
    // Refresh the original page
    if (window.opener && !window.opener.closed) {
      window.opener.location.reload();
    }

    // Countdown timer
    let countdown = 3;
    const countdownElement = document.getElementById('countdown');
    const interval = setInterval(() => {
      countdown -= 1;
      countdownElement.textContent = countdown;
      if (countdown === 0) {
        clearInterval(interval);
        window.close();
      }
    }, 1000);
  </script>
</body>

</html>
